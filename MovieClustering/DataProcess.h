#pragma once
#include "Movie.h"
#include "DataInitialize.h"
#define MAX_DISTANCE 10000000
class DataProcess
{

public:
	/************************************************************************/
	/* 一部电影到K个质心的距离                                                                     */
	/************************************************************************/
	 float distance[K];
	/************************************************************************/
	/* 每个质心聚类后具有的电影                                                                     */
	/************************************************************************/
	 int counts[K];
	/************************************************************************/
	/* 暂时存储K个质心所聚类的电影集                                                                     */
	/************************************************************************/
	User *userCluster[K];
	/************************************************************************/
	/* 标志算法结束                                                                     */
	/************************************************************************/
	bool overFlag;
	Data* data;
	DataProcess();
	~DataProcess();

public:
	/************************************************************************/
	/* 根据 评分计算欧几里得距离。                                                                    */
	/************************************************************************/
	void userDistance(User movie);
	void tanimotoDistance(User movie);
	/************************************************************************/
	/* 根据最短距离分类                                                                     */
	/************************************************************************/
	void userClustering();
	
	/************************************************************************/
	/* 重新计算K个质心                                                                     */
	/************************************************************************/
	void analyseKCentsers();
	/************************************************************************/
	/* getter函数                                                                     */
	/************************************************************************/
	 bool getFlag();
};

